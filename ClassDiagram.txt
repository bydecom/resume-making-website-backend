classDiagram
direction TB
    class User {
	    +String name
	    +String email
	    -String password
	    +String role
	    +String avatar
	    +Boolean isActive
	    +Date createdAt
	    +Date lastLogin
	    +ObjectId[] notifications
	    +String[] permissions
	    +Boolean is_deleted
	    +Date deleted_at
	    +matchPassword(enteredPassword)
	    +hasPermission(permission)
	    +hasRole(role)
	    +getDefaultPermissions(role)*
    }

    class AdminLog {
	    +ObjectId adminId
	    +String action
	    +Object details
	    +String ipAddress
	    +String userAgent
	    +Date timestamp
    }

    class CVEvaluation {
	    +ObjectId cv
	    +Number score
	    +Number progress
	    +String[] strengths
	    +String[] improvements
	    +Date evaluationDate
	    +Boolean isAutoGenerated
    }

    class CV {
	    +ObjectId userId
	    +String name
	    +Object template
	    +Object personalInfo
	    +String summary
	    +Object[] education
	    +Object[] experience
	    +String[] skills
	    +Object[] projects
	    +Object[] certifications
	    +Object[] languages
	    +Object additionalInfo
	    +Object[] customFields
	    +String status
	    +Boolean isDefault
	    +Boolean is_deleted
	    +Date deleted_at
    }

    class CVSnapshot {
	    +String name
	    +Object template
	    +Object personalInfo
	    +String summary
	    +Object[] education
	    +Object[] experience
	    +String[] skills
	    +Object[] projects
	    +Object[] certifications
	    +Object[] languages
	    +Object additionalInfo
	    +Object[] customFields
    }

    class Feedback {
	    +ObjectId user
	    +ObjectId template
	    +ObjectId resume
	    +Number rating
	    +String comment
	    +String type
	    +String status
    }

    class JobDescription {
	    +ObjectId userId
	    +String position
	    +String department
	    +String companyName
	    +String[] location
	    +String remoteStatus
	    +Object experienceRequired
	    +String jobLevel
	    +String employmentType
	    +String[] summary
	    +String[] responsibilities
	    +String[] requirements
	    +String[] preferredQualifications
	    +String[] skillsRequired
	    +String[] benefits
	    +Date postingDate
	    +Date closingDate
	    +String[] tags
	    +String language
	    +String status
	    +Object salary
	    +String applicationDeadline
	    +Object contactInfo
	    +String applicationStatus
	    +Date interviewDate
	    +String interviewTime
	    +String interviewLocation
	    +Boolean is_deleted
	    +Date deleted_at
    }

    class Knowledge {
	    +String title
	    +String description
	    +String textContent
	    +QA[] qaContent
	    +String type
	    +String taskName
	    +String[] tags
	    +Number priority
	    +Boolean isActive
	    +Object metadata
	    +ObjectId createdBy
	    +ObjectId updatedBy
	    +findGeneralKnowledge()*
	    +findByTask(taskName)*
	    +updateByTaskName(taskName, updateData)*
    }



    class Notification {
	    +ObjectId user
	    +String title
	    +String message
	    +String type
	    +Boolean read
	    +String link
    }
        class QA {
	    +String question
	    +String answer
    }
    class Resume {
	    +ObjectId userId
	    +ObjectId cvId
	    +CVSnapshot originalCV
	    +ObjectId jobDescriptionId
	    +String name
	    +Object template
	    +Object personalInfo
	    +String roleApply
	    +String summary
	    +Object[] education
	    +Object[] matchedExperience
	    +Object[] matchedSkills
	    +Object[] matchedProjects
	    +Object[] matchedCertifications
	    +Object[] matchedLanguages
	    +Object additionalInfo
	    +Object[] customFields
	    +String status
	    +Boolean isDefault
	    +Boolean is_deleted
	    +Date deleted_at
    }

    class Template {
	    +String templateId
	    +String name
	    +String description
	    +String previewImage
	    +String[] category
	    +Boolean isDefault
	    +Boolean isActive
	    +Object analytics
	    +String version
	    +ObjectId lastModifiedBy
    }

    class UserLog {
	    +ObjectId userId
	    +String action
	    +ObjectId entityId
	    +String entityType
	    +Object details
	    +String ipAddress
	    +String userAgent
	    +Date timestamp
    }

    class GeminiApiConfig {
	    +String name
	    +String description
	    +String apiKey
	    +String modelName
	    +String systemInstruction
	    +String taskName
	    +GenerationConfig generationConfig
	    +SafetySetting[] safetySettings
	    +Boolean isActive
	    +String type
    }

    class GenerationConfig {
	    +Number temperature
	    +Number topP
	    +Number topK
	    +Number maxOutputTokens
	    +String[] stopSequences
	    +Object responseSchema
    }

    class SafetySetting {
	    +String category
	    +String threshold
    }

    User "1" -- "0..*" AdminLog : logs actions of
    User "1" -- "0..*" CVEvaluation : evaluates
    User "1" -- "0..*" CV : owns
    User "1" -- "0..*" Feedback : gives
    User "1" -- "0..*" JobDescription : creates
    User "1" -- "0..*" Knowledge : created
    User "1" -- "0..*" Knowledge : updated
    User "1" -- "0..*" Notification : receives
    User "1" -- "0..*" Resume : owns
    User "1" -- "0..*" Template : last modified by
    User "1" -- "0..*" UserLog : logs actions of
    CV "1" -- "0..*" CVEvaluation : is evaluated by
    CV "1" -- "1" Resume : is basis for
    CVSnapshot "1" -- "1" Resume : is original CV for
    JobDescription "1" -- "1" Resume : is targeted by
    Knowledge "1" -- "0..*" QA : contains
    Knowledge "1" -- "1" GeminiApiConfig : relatedTask (virtual)
    GeminiApiConfig "1" -- "1" GenerationConfig : has
    GeminiApiConfig "1" -- "0..*" SafetySetting : has
    Resume "1" -- "0..*" Feedback : receives feedback for
    Template "1" -- "0..*" Feedback : receives feedback for
    UserLog "1" -- "0..1" CV : relatedEntity
    UserLog "1" -- "0..1" Resume : relatedEntity
    UserLog "1" -- "0..1" JobDescription : relatedEntity
    UserLog "1" -- "0..1" User : relatedEntity

